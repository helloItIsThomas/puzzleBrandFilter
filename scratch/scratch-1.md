Ok,
time to work on either optimizing the brightness averaging, or moving it to another thread via web workers.
I have spent a lot of time on moving it to another thread,
so i will try to optimize it first.
